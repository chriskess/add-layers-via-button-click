<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="style.css" />
  </head>
  <meta charset="utf-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
  />
  <script src="https://code.archilogic.com/fpe-sdk/nightly/v4.0.3/fpe.js"></script>
  <link
    rel="stylesheet"
    href="https://code.archilogic.com/fpe-sdk/nightly/v4.0.3/fpe.css"
  />
  <title>fpe hello world demo</title>
  <body>
    <div>
      <h2>Show assets</h2>
      <input
        type = 'button'
        class="show-button"
        id='show-button-task-chairs'
        value="Task Chairs"
      ></input>
      <input
        type = 'button'
        class="show-button"
        id='show-button-toilets'
        value="Toilets"
      ></input>
      <input
        type = 'button'
        class="show-button"
        id='show-button-desks'
        value="Desks"
      ></input>
    </div>
    <div>
      
    </div>
    <div>
      
    </div>
    <div id="hello-plan"></div>
    <script type="module">
      // Create publishable access token at https://developers.archilogic.com/access-tokens.html
      const publishableToken = "5d2e8502-9a07-4e10-a933-3234eebce84b";
      const demoSceneId = "0dc0167c-7596-41b4-9279-1394de5683e8";
      const container = document.getElementById("hello-plan");
      const floorPlan = new FloorPlanEngine({ container });
      let genericOfficeChairButton = document.getElementById('show-button-task-chairs')
      let desksButton = document.getElementById('show-button-desks')
      let toiletsButton = document.getElementById('show-button-toilets')
      const layer = floorPlan.addLayer();

      floorPlan.loadScene(demoSceneId, { publishableToken }).then(() => {
        floorPlan.resources.assets.forEach((asset) => {
        genericOfficeChairButton.addEventListener('click', function() {
          if (asset.name == "Task Chair") {
            layer.addGraphic({
              shapes: [
                {
                  type: "polygon",
                  points: asset.polygon,
                  props: { stroke: 0x227c9d  , strokeWidth: 5, fill: 0x227c9d, fillOpacity: 0.25 },
                },
              ],
            });
          }
        })
          toiletsButton.addEventListener('click', function() {
            if (asset.name == "Toilet") {
            layer.addGraphic({
              shapes: [
                {
                  type: "polygon",
                  points: asset.polygon,
                  props: { stroke: 0x17c3b2 , strokeWidth: 5, fill: 0x17c3b2, fillOpacity: 0.75 },
                },
              ],
            });
          }
        })
          desksButton.addEventListener('click', function() {
            if (asset.subCategories == "desk") {
            layer.addGraphic({
              shapes: [
                {
                  type: "polygon",
                  points: asset.polygon,
                  props: { stroke: 0xffcb77 , strokeWidth: 5, fill: 0xffcb77, fillOpacity: 0.75 },
                },
              ],
            });
          }
          })
          console.log(asset)
        });
      });
    </script>
  </body>
</html>
